【AK杂谈】关于大气层出错代码2123-0011的原因和解决办法

一、近期Switch20.0.0和20.0.1升级，系统降级必须注意事项（包括真实和虚拟），这不是开机蓝屏，是大气层出错代码2123-0011
感谢hnayzdf分享的 https://www.tekqart.com/thread-420040-1-1.html
虽然AK也不知道为什么还会有小伙伴好好的虚拟系统19.0.1不玩，非要强刷虚拟升级20.0.1？
但是这次可能是因为sigpatch中的nfim_ctest的原因，反正20.0.0/20.0.1的sigpatch还不完善，升级虚拟系统20.0.0并不能玩破解游戏。
1、已经被BAN机可以尝试解除90dns和显示序号，atmosphere/config/system_settings.ini设置enable_dns_mitm = u8!0x0，系统初始化的目的其实为了还原系统里面的网络设置。
2、已降级虚拟系统产生的报错，可以等大气层1.9.0三件套更新解决，没必要初始化虚拟系统，否则所有游戏都要重装，存档也没了。

如果是新买的主机破解做虚拟系统20.0.0然后降级，那就按照恢复出厂操作，开着飞行模式降级虚拟系统没任何问题。即使降级也没有选择恢复出厂，可以在进虚拟系统switch图标之前按住音量加减的官方恢复模式，进行系统初始化操作也没问题，一样的。

二、之前报错是因为隐藏序列号的原因，SW17.0.0以后就失效了，需要通过新增的nim patch补丁解决
https://github.com/fruityloops1/nim-prodinfo-blank-fix/releases

有不少小伙伴升级了17.0后联网发现2123-0011错误，程序是“0100000000000025”，但是大家都知道这atmosphere/contents/根本就不可能有titleid是0100000000000025的插件或者游戏。所以这就是系统问题，怎么会造成的呢？
其实是SW系统在联网状态下自动访问服务器，但有隐藏序列号，所以返回的时候认证出错。
在正常情况下，根本不会出现2123-0011错误，程序是“0100000000000025”的可能。这是因为隐藏序列号，还有90dns且优先级高于隐藏序列号，而且只要开启飞行模式，也不会出错。

启动90dns屏蔽任天堂服务，是在atmosphere/hosts/有
sysmmc.txt，在真实(破解)系统中启动90dns，删除它=在真实破解系统中不启动90dns
emummc.txt，在虚拟系统中启动90dns，删除它=在虚拟系统中不启动90dns
隐藏序号系统屏蔽任天堂服务，是在根目录exosphere.ini中设置
blank_prodinfo_sysmmc=1，在真实破解系统中隐藏序列号，改成0=在真实破解系统中显示序列号
blank_prodinfo_emummc=1，在虚拟系统中隐藏序列号，改成0=在虚拟系统中显示序列号
这两层保护其实有优先级的，90dns优先于隐藏序列号，如果联网首先因为90dns而阻止访问任天堂服务器，所以不会出现2123-0011错误。

但以下二种情况却有可能出现2123-0011错误

第一种情况是真实(破解)系统，使用加速器，由于有些加速器需要在Switch上设置代理服务器，所以导致90dns失效，等于走代理服务器的网络了。这样隐藏序列号的功能就生效。所以出错。
真实系统有3个解决办法
（1）因为真实系统只有正版游戏，没有破解游戏，所以可以删除sysmmc.txt以及exosphere.ini中改成blank_prodinfo_sysmmc=0，这样真实破解系统就没有任何联网保护措施，和真实正版系统一样，完全可以正常访问任天堂服务器，当然也不会2123-0011出错。
（2）使用带科学上网功能的加速路由器，这样switch主机上不改变90dns保护，等于裸连，那90dns依然生效，优先于隐藏序列号。
（3）在真实破解系统只开飞行模式，也肯定不会出错。

第二种情况是虚拟系统，由于有些小伙伴需要tinfoil黑商店等基于谷歌盘的软件，所以他们使用“科学上网”的加速器，同样由于90dns失效，这样就导致隐藏序列号之后联网出错。
但是正常情况下，大家在虚拟系统里都是要么开飞行模式，要么直接裸连家里的wifi路由器，根本不需要走代理服务器，因为需要联网的也就是wiliwili，腾讯视频等客户端软件，没有科学上网的必要。
由于虚拟系统里安装了很多的破解游戏，如果你贸然取消隐藏序列号，那么一旦90dns也失效之后，等于破解记录上传任天堂服务器，被BAN机是肯定的，

所以tinfoil黑商店很适合那些已经被BAN机的小伙伴，反正被BAN的也只是任天堂服务器，switch主机还是可以正常联网，正常玩破解游戏的。
如果你的Switch没有被BAN机，尽量使用使用带科学上网功能的加速路由器，确保90dns生效优于隐藏序列号。
